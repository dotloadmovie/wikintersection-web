(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{158:function(e,t,r){e.exports=r(321)},167:function(e,t,r){},315:function(e,t,r){},316:function(e,t,r){},321:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(7),s=r.n(c),l=r(29),u=r(59),i=r(143),o=function(){return"http://localhost:1323"},h={search0:{rowKey:null,value:null,search:null,results:null,serverRequestInFlight:!1},search1:{rowKey:null,value:null,search:null,results:null,serverRequestInFlight:!1},currView:"search",compareResult:null,serverRequestInFlight:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if("CHANGE_VIEW"===t.type){var r=Object.assign({},e);return r.currView=t.view,r}if("CLEAR_SEARCH"===t.type)return Object.assign({},h);if("SEARCH_VALUE_INPUT"===t.type){var n=Object.assign({},e),a=Object.assign({},n["search"+t.searchIndex]);return a.value=t.value,n["search"+t.searchIndex]=a,n}if("SELECT_ROW"===t.type){var c=Object.assign({},e),s=Object.assign({},c["search"+t.searchIndex]);return s.search=t.row.value,c["search"+t.searchIndex]=s,c}if("SEARCH_LOADING"===t.type){var l=Object.assign({},e),u=Object.assign({},l["search"+t.searchIndex]);return u.serverRequestInFlight=t.status,l["search"+t.searchIndex]=u,l}if("SEARCH_SUCCESS"===t.type){var i=Object.assign({},e),o=Object.assign({},i["search"+t.searchIndex]);return o.results=t.searchResult.Data,i["search"+t.searchIndex]=o,i}if("COMPARE_LOADING"===t.type){var p=Object.assign({},e);return p.serverRequestInFlight=t.status,p}if("COMPARE_SUCCESS"===t.type){var d=Object.assign({},e);return d.compareResult=t.compareResult.Data,d}return e},d={search0:{rowKey:null,value:null,search:null,results:null,serverRequestInFlight:!1},search1:{rowKey:null,value:null,search:null,results:null,serverRequestInFlight:!1},currView:"search",compareResult:null,serverRequestInFlight:!1},m=Object(u.c)(p,d,Object(u.a)(i.a)),f=(r(167),r(168),r(21)),v=r(22),E=r(25),b=r(23),S=r(24),g=r(326),y=r(325),C=r(39),O=r(152),w=r(324),R=r(111),j=function(){return a.a.createElement(R.a,{mode:"horizontal",theme:"dark",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},a.a.createElement(R.a.Item,{key:"1"},"Search"),a.a.createElement(R.a.Item,{key:"2"},"About"))},I=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return j()}}]),t}(n.Component),k=function(e,t){return{type:"SEARCH_LOADING",status:e,searchIndex:t}},x=function(e){return{type:"COMPARE_LOADING",status:e}},V=r(323),A=r(322),_=function(e){var t=e.data,r=e.columns;return a.a.createElement("div",null,a.a.createElement(A.a,{columns:r,dataSource:t,pagination:{pageSize:10}}))},F=r(82),q=function(e){var t=e.checkedState,r=e.events;return a.a.createElement(F.a,{checked:t,onChange:r.handleChange})},H=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(e){r.props.handleChange(r.props.row)},r}return Object(S.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e={handleChange:this.handleChange},t=this.props.checkedState;return q({events:e,checkedState:t})}}]),t}(n.Component),N=function(e){function t(e){var r;return Object(f.a)(this,t),(r=Object(E.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){r.setState({checkedValue:e.key}),r.props.selectRow(e,r.props.index)},r.state={checkedValue:null},r}return Object(S.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.results.map(function(e,t){return{count:t+1,value:e,key:t}});return _({columns:[{title:"#",dataIndex:"count",key:"count",render:function(t,r){return a.a.createElement(H,{handleChange:e.handleChange,row:r,checkedState:e.state.checkedValue===r.key})}},{title:"Article",dataIndex:"value",key:"value"}],data:t})}}]),t}(n.Component),L=Object(l.b)(function(e){return{currView:e.currView,search0:e.search0,search1:e.search1}},function(e){return{selectRow:function(t,r){return e(function(e,t){return{type:"SELECT_ROW",row:e,searchIndex:t}}(t,r))}}})(N),T=function(e){var t=e.events,r=e.results,n=e.index,c=e.placeholder,s=e.searchValue,l=e.serverRequestInFlight,u=V.a.Search;return a.a.createElement("div",{className:"search-container"},a.a.createElement(u,{value:s,placeholder:c,enterButton:"Search",size:"large",onSearch:t.handleSearchClick,onChange:t.handleSearchValueInput}),l&&a.a.createElement("div",{className:"spin-position"},a.a.createElement(O.a,null)),r&&!l&&a.a.createElement(L,{results:r,index:n,handleSelectRow:t.handleSelectRow}))},U=(r(315),function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).handleSearchValueInput=function(e){r.props.searchValueInput(e.target.value,r.props.index)},r.handleSearchClick=function(e){r.props.fetchSearchResult("".concat(o(),"/search/").concat(e),r.props.index)},r}return Object(S.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e={handleSearchClick:this.handleSearchClick,handleSearchValueInput:this.handleSearchValueInput},t=this.props,r=t.index,n=t.placeholder,a=this.props["search"+r].serverRequestInFlight,c=this.props["search"+r].value,s=this.props["search"+r].results;return T({events:e,results:s,index:r,placeholder:n,searchValue:c,serverRequestInFlight:a})}}]),t}(n.Component)),W=Object(l.b)(function(e){return{currView:e.currView,search0:e.search0,search1:e.search1}},function(e){return{fetchSearchResult:function(t,r){return e(function(e,t){return function(r){r(k(!0,t)),fetch(e).then(function(e){if(!e.ok)throw Error(e.statusText);return r(k(!1,t)),e}).then(function(e){return e.json()}).then(function(e){return r(function(e,t){return{type:"SEARCH_SUCCESS",searchResult:e,searchIndex:t}}(e,t))}).catch(function(){return r({type:"SEARCH_ERROR",searchError:!0})})}}(t,r))},searchValueInput:function(t,r){return e(function(e,t){return{type:"SEARCH_VALUE_INPUT",value:e,searchIndex:t}}(t,r))}}})(U),B=function(e){var t=e.columns,r=e.data;return a.a.createElement("div",null,a.a.createElement(A.a,{columns:t,dataSource:r,pagination:{pageSize:100}}))},D=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){if(!this.props.results)return null;var e=this.props.results.map(function(e,t){return{count:t+1,value:e,key:t}});return B({data:e,columns:[{title:"#",dataIndex:"count",key:"count"},{title:"Article",dataIndex:"value",key:"value"}]})}}]),t}(n.Component),G=Object(l.b)(function(e){return{results:e.compareResult}})(D),P=(r(316),function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).handleClearSearch=function(){r.props.changeView("search"),r.props.clearSearch()},r.handleSubmit=function(){r.props.changeView("compare"),r.props.submitCompare(r.props.search0.search,r.props.search1.search)},r}return Object(S.a)(t,e),Object(v.a)(t,[{key:"buildTitle",value:function(){return"search"===this.props.currView?"Search":"Results"}},{key:"renderSearch",value:function(){return a.a.createElement("div",null,a.a.createElement(g.a,null,a.a.createElement(y.a,{md:11,sm:24,style:{marginBottom:"24px"}},"search"===this.props.currView&&a.a.createElement(W,{index:0,placeholder:"Search for a first Wikipedia entry",x:!0})),a.a.createElement(y.a,{md:2,sm:24}),a.a.createElement(y.a,{md:11,sm:24,style:{marginBottom:"24px"}},"search"===this.props.currView&&a.a.createElement(W,{index:1,placeholder:"Search for a second Wikipedia entry"}))),a.a.createElement(g.a,null,a.a.createElement(y.a,{md:12,sm:6,xs:12},(this.props.search0.results||this.props.search1.results)&&a.a.createElement(C.a,{onClick:this.handleClearSearch},"Clear")),a.a.createElement(y.a,{md:12,sm:12,xs:12,style:{textAlign:"right"}},this.props.search0.search&&this.props.search1.search&&a.a.createElement(C.a,{type:"primary",onClick:this.handleSubmit},"Submit"))))}},{key:"renderCompare",value:function(){return this.props.serverRequestInFlight?a.a.createElement("div",{className:"spin-position"},a.a.createElement(O.a,null)):a.a.createElement("div",null,a.a.createElement(g.a,null,a.a.createElement(y.a,{md:6,sm:24,style:{marginBottom:"24px"}}),a.a.createElement(y.a,{md:12,sm:24},a.a.createElement(G,null)),a.a.createElement(y.a,{md:6,sm:24,style:{marginBottom:"24px"}})),a.a.createElement(g.a,null,a.a.createElement(y.a,{md:12,sm:6,xs:12},a.a.createElement(C.a,{onClick:this.handleClearSearch},"Clear"))))}},{key:"renderSubView",value:function(){return"search"===this.props.currView?this.renderSearch():"compare"===this.props.currView?this.renderCompare():void 0}},{key:"render",value:function(){var e=w.a.Header,t=w.a.Content,r=w.a.Footer,n=this.props.currView;return a.a.createElement(w.a,null,a.a.createElement(e,null,a.a.createElement(I,{currView:n})),a.a.createElement(t,{style:{padding:"0 50px"}},a.a.createElement("div",{className:"main-content"},a.a.createElement("div",null,a.a.createElement(g.a,null,a.a.createElement(y.a,{span:12},a.a.createElement("h1",null,this.buildTitle())))),this.renderSubView())),a.a.createElement(r,{style:{textAlign:"left"}},a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://www.github.com/dotloadmovie/wikintersection-web"},"Source")))}}]),t}(n.Component)),K=Object(l.b)(function(e){return{currView:e.currView,serverRequestInFlight:e.serverRequestInFlight,search0:e.search0,search1:e.search1,compareResults:e.compareResults}},function(e){return{clearSearch:function(){return e({type:"CLEAR_SEARCH"})},submitCompare:function(t,r){return e((n="".concat(o(),"/compare/").concat(t,"/").concat(r),function(e){e(x(!0)),fetch(n).then(function(t){if(!t.ok)throw Error(t.statusText);return e(x(!1)),t}).then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:"COMPARE_SUCCESS",compareResult:e}}(t))}).catch(function(){return e({type:"SEARCH_ERROR",compareError:!0})})}));var n},changeView:function(t){return e(function(e){return{type:"CHANGE_VIEW",view:e}}(t))}}})(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(l.a,{store:m},a.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[158,1,2]]]);
//# sourceMappingURL=main.2f94c9f0.chunk.js.map